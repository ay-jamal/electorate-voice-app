<nb-card class="main-card filter-card">
  <nb-card-header class="card-with-title-colse-btn">
    <button
      class="header-action"
      nbButton
      appearance="ghost"
      (click)="close(null)"
    >
      إغلاق
      <fa-icon class="ms-2 icon" [icon]="['fas', 'times']"></fa-icon>
    </button>
    <h3 class="h3-font">
      {{ editMode ? "تعديل الاستطلاع" : "اظافة استطلاع " }}
    </h3>
  </nb-card-header>
  <nb-card-body>
    <div class="col">
      <div class="row">
        <div class="col-8">
          <ag-grid-angular
            style="height: 100%"
            class="ag-theme-alpine text-center"
            [rowData]="rowData"
            [rowHeight]="70"
            [overlayNoRowsTemplate]="'لا يوجد بيانات لعرضها'"
            [rowSelection]="'single'"
            [defaultColDef]="agConfig.defaultColDef"
            [icons]="agConfig.icons"
            [localeText]="agConfig.translation"
            [columnDefs]="columnDefs"
            (rowSelected)="onRowSelection($event)"
            (gridReady)="agConfig.onGridReady($event)"
          >
          </ag-grid-angular>
        </div>
        <form [formGroup]="PollForm" class="col">
          <div class="row mt-2">
            <div class="form-feaild">
              <h3 class="feaild-name">العنوان</h3>
              <input
                dir="auto"
                placeholder="اكتب هنا "
                formControlName="title"
                class="feaild-input"
                nbInput
                type="text"
              />
            </div>
          </div>
          <div class="row my-2">
            <div class="form-feaild">
              <h3 class="feaild-name">الوصف</h3>
              <div class="feaild-input-icon">
                <textarea
                  placeholder="ادخل الوصف هنا"
                  class="textarea feaild-input"
                  name="textarea"
                  id="textarea"
                  formControlName="description"
                ></textarea>
              </div>
            </div>
          </div>
          <div class="row">
            <nb-checkbox formControlName="visibility">الرؤية</nb-checkbox>
          </div>
          <div class="row mb-2">
            <div class="col">
              <div class="form-feaild">
                <h3 class="feaild-name">تاريخ بدء الاستطلاع</h3>
                <input
                  formControlName="startDate"
                  dir="auto"
                  class="feaild-input"
                  nbInput
                  type="date"
                />
              </div>
            </div>
            <div class="col">
              <div class="form-feaild">
                <h3 class="feaild-name">تاريخ انتهاء الاستطلاع</h3>
                <input
                  formControlName="endDate"
                  dir="auto"
                  class="feaild-input"
                  nbInput
                  type="date"
                />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="divider my-2">
              <div class="line"></div>
              <p class="divider-title">الاسئلة المتعلقة بالأستطلاع</p>
            </div>
          </div>
          <div class="row mb-2">
            <div class="form-feaild">
              <h3 class="feaild-name">السؤال</h3>
              <input
                dir="auto"
                placeholder="اكتب هنا "
                class="feaild-input"
                nbInput
                type="text"
                [formControl]="question"
              />
            </div>
          </div>
          <div class="row mb-2">
            <div class="form-feaild">
              <h3 class="feaild-name">الجواب</h3>
              <input
                dir="auto"
                placeholder="اكتب هنا "
                class="feaild-input"
                nbInput
                type="text"
                [formControl]="question"
              />
            </div>
          </div>
          <div class="row">
            <div class="col">
              <button
                (click)="addToQuestionsList()"
                class="btn primary-btn mt-2"
                nbButton
              >
                اظافة الجواب
              </button>
            </div>
            <div class="col"></div>
          </div>
        </form>
      </div>
    </div>
  </nb-card-body>
  <nb-card-footer
    ><button (click)="submit()" class="btn primary-btn mt-2" nbButton>
      حفظ
    </button>
  </nb-card-footer>
</nb-card>
